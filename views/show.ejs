<div class="page-actions">
  <a href="/" class="btn secondary">‚Üê Back</a>
  <form method="post" action="/show/<%= show.id %>/delete" onsubmit="return confirm('Delete this show and all its episodes from your tracker? This cannot be undone.');">
    <button class="btn danger" type="submit">Delete show</button>
  </form>
</div>

<div class="show-header">
  <h2><%= show.name %></h2>
  <div class="stats" id="stats" data-total="<%= total %>">
    <span>
      <strong id="watchedCount"><%= watched %></strong> /
      <span id="totalCount"><%= total %></span> watched
    </span>
    <span> | </span>
    <span><strong id="pctCount"><%= pct %></strong>% complete</span>
  </div>
</div>

<table class="episodes">
  <thead>
    <tr>
      <th>Watched</th>
      <th>S</th>
      <th>E</th>
      <th>Title</th>
      <th>Airdate</th>
      <th>Runtime</th>
    </tr>
  </thead>
  <tbody>
    <% episodes.forEach(ep => { %>
      <tr data-episode-id="<%= ep.id %>" class="<%= ep.watched ? 'watched' : '' %>">
        <td>
          <input type="checkbox" class="toggle" <%= ep.watched ? 'checked' : '' %> />
        </td>
        <td><%= ep.season || '' %></td>
        <td><%= ep.number || '' %></td>
        <td><%= ep.title %></td>
        <td><%= ep.airdate || '' %></td>
        <td><%= ep.runtime ? ep.runtime + 'm' : '' %></td>
      </tr>
    <% }) %>
  </tbody>
</table>
